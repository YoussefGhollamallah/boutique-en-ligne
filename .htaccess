RewriteEngine On
RewriteRule ^detail/([0-9]+)$ index.php?r=detail&id=$1 [QSA,L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^(.+)$ index.php?r=$1 [QSA,L]